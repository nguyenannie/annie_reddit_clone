<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>My Account #</title>
    <link href="/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="../static/css/style.css" rel="stylesheet" th:href="@{/css/style.css}"/>
    <meta charset="utf-8" />
</head>
<body>
<div th:replace="home :: header"></div>
<div th:replace="mypost :: header"></div>
<div class="container-fluid">
    <main role="main">
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>Content</th>
                    <th>Creation Time</th>
                    <th>Delete</th>
                    <th>Edit</th>
                </tr>
                </thead>
                <tbody th:each="mycomment:${mycomments}">
                    <tr>
                        <td th:text="${mycomment.content}"></td>
                        <td th:text="${mycomment.creationDate}"></td>
                        <form action="#" th:action="@{'/deleteComment?username=' + ${user.name} + '&amp;commentid=' +  ${mycomment.id}}" method="post">
                            <td><button class="btn btn-danger" type="submit" name="delete" th:value="${mycomment.id}">Delete</button></td>
                        </form>
                        <td><button type="button" class="btn btn-warning" data-toggle="modal" th:attr="data-target='#commentModal-'+${mycomment.id}">Edit</button></td>
                        <div class="modal fade" th:attr="id='commentModal-'+${mycomment.id}">
                            <div class="modal-dialog" th:attr="id='commentModal-' + ${mycomment.id}">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h4 class="modal-title">Edit Comment</h4>
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    </div>
                                    <div class="modal-body">
                                        <form action="#" th:action="@{'/editComment?username=' + ${user.name} + '&amp;commentid=' + ${mycomment.id}}" th:object="${postForm}" method="post" id="editpost">
                                            <div class="form-group row">
                                                <label class="col-2 col-form-label"> Content </label>
                                                <div class="col-10">
                                                    <input type="text" th:value="${mycomment.content}" name="content" class="form-control"/>
                                                </div>
                                            </div>
                                            <div class="container-button-bottom">
                                                <button type="submit" class="btn btn-success">Submit</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>
</div>
<script src="/webjars/jquery/1.11.1/jquery.min.js"></script>
<script src="/webjars/bootstrap/3.3.7-1/js/bootstrap.min.js"></script>
</body>
</html>